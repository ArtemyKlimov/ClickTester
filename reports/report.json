{
  "meta": {
    "generated_at": "2026-02-08 00:43:47",
    "host": "localhost",
    "database": "logs_db",
    "table": "app_logs_v10",
    "workers": 4,
    "granules_warn": 500,
    "granules_fail": 2000,
    "read_rows_warn": 1000000
  },
  "total": 52,
  "passed": 52,
  "failed": 0,
  "results": [
    {
      "task_id": 1,
      "name": "partitions",
      "description": "Проверка наличия и списка партиций таблицы (system.parts).",
      "type": "structure",
      "query": "SELECT partition, sum(rows) AS rows, sum(bytes_on_disk) AS bytes FROM system.parts WHERE database = 'logs_db' AND table = 'app_logs_v10' AND active GROUP BY partition ORDER BY partition",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 0,
      "rows_returned": 0,
      "projection_used": false
    },
    {
      "task_id": 2,
      "name": "skipping_indexes",
      "description": "Проверка data skipping индексов (bloom_filter, tokenbf_v1).",
      "type": "structure",
      "query": "SELECT name, type, expr, granularity FROM system.data_skipping_indices WHERE database = 'logs_db' AND table = 'app_logs_v10'",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 0,
      "rows_returned": 0,
      "projection_used": false
    },
    {
      "task_id": 3,
      "name": "projections",
      "description": "Проверка наличия проекций (counter_with_dims и др.).",
      "type": "structure",
      "query": "SELECT name, partition, part_type, rows FROM system.projection_parts WHERE database = 'logs_db' AND table = 'app_logs_v10'",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 0,
      "rows_returned": 0,
      "projection_used": false
    },
    {
      "task_id": 4,
      "name": "granularity_settings",
      "description": "Проверка настроек гранул (SHOW CREATE TABLE).",
      "type": "structure",
      "query": "SHOW CREATE TABLE logs_db.app_logs_v10",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 0,
      "rows_returned": 0,
      "projection_used": false
    },
    {
      "task_id": 5,
      "name": "q_15m_project",
      "description": "Выборка по проекту за 15 мин, ORDER BY mainTimestampTime, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 11.4377,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 6,
      "name": "q_15m_project_app",
      "description": "Проект + приложение, 15 мин, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.0607,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 7,
      "name": "q_15m_project_ns",
      "description": "Проект + namespace, 15 мин, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 12.4159,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 8,
      "name": "q_15m_project_ns_app",
      "description": "Проект + namespace + приложение, 15 мин, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 11.0188,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 9,
      "name": "q_15m_project_level_token",
      "description": "Проект + level + hasToken(text/stack), 15 мин, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND level = 'INFO' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.831900000000001,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf))))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 10,
      "name": "q_15m_project_level_ns_app_token",
      "description": "Проект + level + namespace + app + token, 15 мин, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 11.051699999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770499726, +Inf))))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770499726, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 11,
      "name": "q_1h_project",
      "description": "Выборка по проекту за 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.4847,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 12,
      "name": "q_1h_project_app",
      "description": "Проект + приложение, 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.1897,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 13,
      "name": "q_1h_project_ns",
      "description": "Проект + namespace, 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.4176,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 14,
      "name": "q_1h_project_ns_app",
      "description": "Проект + namespace + приложение, 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 11.262599999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf)))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 15,
      "name": "q_1h_project_level_token",
      "description": "Проект + level + token по text/stack, 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND level = 'INFO' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.3813,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf))))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 16,
      "name": "q_1h_project_level_ns_app_token",
      "description": "Проект + level + namespace + app + token, 1 час, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 11.976799999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770497026, +Inf))))\n                          Parts: 0/1\n                          Granules: 0/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 0/0\n                          Granules: 0/0\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770497026, +Inf))\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 0/0\n                          Granules: 0/0\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 0/0\n                          Granules: 0/0\n                        Ranges: 0\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 17,
      "name": "q_1d_project",
      "description": "Выборка по проекту за 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 11808,
      "read_bytes": 4424298,
      "duration_ms": 18.6343,
      "rows_returned": 500,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 18,
      "name": "q_1d_project_app",
      "description": "Проект + приложение, 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498901,
      "duration_ms": 32.874300000000005,
      "rows_returned": 34,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 19,
      "name": "q_1d_project_ns",
      "description": "Проект + namespace, 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498603,
      "duration_ms": 32.3478,
      "rows_returned": 116,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 20,
      "name": "q_1d_project_ns_app",
      "description": "Проект + namespace + приложение, 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498901,
      "duration_ms": 429.0355,
      "rows_returned": 18,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 21,
      "name": "q_1d_project_level_token",
      "description": "Проект + level + token, 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498639,
      "duration_ms": 399.44190000000003,
      "rows_returned": 34,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: generic exclusion search\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 22,
      "name": "q_1d_project_level_ns_app_token",
      "description": "Проект + level + namespace + app + token, 1 день, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498937,
      "duration_ms": 411.319,
      "rows_returned": 18,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770414226, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1770336000, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770414226, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: generic exclusion search\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 23,
      "name": "q_4d_project",
      "description": "Выборка по проекту за 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 11808,
      "read_bytes": 4424298,
      "duration_ms": 401.43240000000003,
      "rows_returned": 500,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 24,
      "name": "q_4d_project_app",
      "description": "Проект + приложение, 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498901,
      "duration_ms": 21.7439,
      "rows_returned": 34,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 25,
      "name": "q_4d_project_ns",
      "description": "Проект + namespace, 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498603,
      "duration_ms": 22.7394,
      "rows_returned": 116,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 26,
      "name": "q_4d_project_ns_app",
      "description": "Проект + namespace + приложение, 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498901,
      "duration_ms": 31.8291,
      "rows_returned": 18,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf)))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: binary search\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 27,
      "name": "q_4d_project_level_token",
      "description": "Проект + level + token, 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498639,
      "duration_ms": 32.1023,
      "rows_returned": 34,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: generic exclusion search\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 28,
      "name": "q_4d_project_level_ns_app_token",
      "description": "Проект + level + namespace + app + token, 4 дня, LIMIT 500.",
      "type": "query",
      "query": "SELECT * FROM (SELECT * FROM logs_db.app_logs_v10 WHERE mainTimestampTime \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' AND (hasToken(lower(text),lower('headers')) OR hasToken(lower(stack),lower('headers'))) ORDER BY mainTimestampTime DESC LIMIT 500) ORDER BY localTime DESC",
      "pass": true,
      "granules": 2,
      "read_rows": 20000,
      "read_bytes": 7498937,
      "duration_ms": 24.407700000000002,
      "rows_returned": 18,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + (Projection + (Change column names to column identifiers + Project names))))\n      Expression\n        Expression\n          JoinLazyColumnsStep\n            Limit (preliminary LIMIT)\n              Sorting (Sorting for ORDER BY)\n                Expression\n                  Expression\n                    Expression\n                      ReadFromMergeTree (logs_db.app_logs_v10)\n                      Indexes:\n                        MinMax\n                          Keys:\n                            mainTimestampTime\n                            projectCode\n                            level\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (mainTimestampTime in [1770155026, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        Partition\n                          Keys:\n                            projectCode\n                            level\n                            toStartOfInterval(mainTimestampTime, toIntervalDay(2))\n                          Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfInterval(mainTimestampTime, toIntervalDay(2)) in [1769990400, +Inf))))\n                          Parts: 1/1\n                          Granules: 2/2\n                        PrimaryKey\n                          Keys:\n                            mainTimestampTime\n                          Condition: (mainTimestampTime in [1770155026, +Inf))\n                          Parts: 1/1\n                          Granules: 2/2\n                          Search Algorithm: generic exclusion search\n                        Skip\n                          Name: text_idx\n                          Description: tokenbf_v1 GRANULARITY 16\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: resource_idx\n                          Description: bloom_filter GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: token_idx\n                          Description: tokenbf_v1 GRANULARITY 1\n                          Parts: 1/1\n                          Granules: 2/2\n                        Skip\n                          Name: \u003cCombined skip indexes\u003e\n                          Description: Final set of granules after AND/OR processing\n                          Parts: 1/1\n                          Granules: 2/2\n                        Ranges: 1\n            LazilyReadFromMergeTree\n"
    },
    {
      "task_id": 29,
      "name": "agg_1m_15m_project",
      "description": "Агрегация по 1 мин, проект, последние 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.0537,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 30,
      "name": "agg_1m_15m_project_app",
      "description": "Агрегация 1 мин, проект + приложение, 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 15.469999999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 31,
      "name": "agg_1m_15m_project_ns",
      "description": "Агрегация 1 мин, проект + namespace, 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.5087,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 32,
      "name": "agg_1m_15m_project_ns_app",
      "description": "Агрегация 1 мин, проект + namespace + app, 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.2965,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 33,
      "name": "agg_1m_15m_project_level_app",
      "description": "Агрегация 1 мин, проект + level + app, 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND level = 'INFO' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.652000000000001,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 34,
      "name": "agg_1m_15m_project_level_ns_app",
      "description": "Агрегация 1 мин, проект + level + namespace + app, 15 мин.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 1 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 15 MINUTE AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 10.4014,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770499726, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 35,
      "name": "agg_5m_1h_project",
      "description": "Агрегация по 5 мин, проект, последний 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.498299999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 36,
      "name": "agg_5m_1h_project_app",
      "description": "Агрегация 5 мин, проект + приложение, 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 8.212499999999999,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 37,
      "name": "agg_5m_1h_project_ns",
      "description": "Агрегация 5 мин, проект + namespace, 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 7.859500000000001,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 38,
      "name": "agg_5m_1h_project_ns_app",
      "description": "Агрегация 5 мин, проект + namespace + app, 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.1594,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf)))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 39,
      "name": "agg_5m_1h_project_level_app",
      "description": "Агрегация 5 мин, проект + level + app, 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND level = 'INFO' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.2965,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 40,
      "name": "agg_5m_1h_project_level_ns_app",
      "description": "Агрегация 5 мин, проект + level + namespace + app, 1 час.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 5 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 HOUR AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 0,
      "read_rows": 0,
      "read_bytes": 0,
      "duration_ms": 9.1329,
      "rows_returned": 0,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))))\n                Parts: 0/1\n                Granules: 0/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 0/0\n                Granules: 0/0\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770497026, +Inf))\n                Parts: 0/0\n                Granules: 0/0\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 0/0\n                Granules: 0/0\n              Ranges: 0\n"
    },
    {
      "task_id": 41,
      "name": "agg_30m_1d_project",
      "description": "Агрегация по 30 мин, проект, последний 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 130020,
      "duration_ms": 10.0063,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Ranges: 1\n"
    },
    {
      "task_id": 42,
      "name": "agg_30m_1d_project_app",
      "description": "Агрегация 30 мин, проект + приложение, 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 140555,
      "duration_ms": 12.7438,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 43,
      "name": "agg_30m_1d_project_ns",
      "description": "Агрегация 30 мин, проект + namespace, 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 444729,
      "duration_ms": 12.5248,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 44,
      "name": "agg_30m_1d_project_ns_app",
      "description": "Агрегация 30 мин, проект + namespace + app, 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 455264,
      "duration_ms": 13.2677,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 45,
      "name": "agg_30m_1d_project_level_app",
      "description": "Агрегация 30 мин, проект + level + app, 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 150575,
      "duration_ms": 12.5958,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 46,
      "name": "agg_30m_1d_project_level_ns_app",
      "description": "Агрегация 30 мин, проект + level + namespace + app, 1 день.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 1 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 465284,
      "duration_ms": 15.753900000000002,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770414226, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 47,
      "name": "agg_30m_4d_project",
      "description": "Агрегация по 30 мин, проект, последние 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 130020,
      "duration_ms": 13.2542,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155026, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155026, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Ranges: 1\n"
    },
    {
      "task_id": 48,
      "name": "agg_30m_4d_project_app",
      "description": "Агрегация 30 мин, проект + приложение, 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 140555,
      "duration_ms": 11.723700000000001,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155026, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155026, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 49,
      "name": "agg_30m_4d_project_ns",
      "description": "Агрегация 30 мин, проект + namespace, 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 444729,
      "duration_ms": 12.924,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 50,
      "name": "agg_30m_4d_project_ns_app",
      "description": "Агрегация 30 мин, проект + namespace + app, 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 455264,
      "duration_ms": 14.8484,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                Condition: and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf)))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                Condition: (projectCode in ['AXDP', 'AXDP'])\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 51,
      "name": "agg_30m_4d_project_level_app",
      "description": "Агрегация 30 мин, проект + level + app, 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 150575,
      "duration_ms": 13.3985,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    },
    {
      "task_id": 52,
      "name": "agg_30m_4d_project_level_ns_app",
      "description": "Агрегация 30 мин, проект + level + namespace + app, 4 дня.",
      "type": "query",
      "query": "SELECT toStartOfInterval(toStartOfMinute(localTime), INTERVAL 30 MINUTE) AS t, count() FROM logs_db.app_logs_v10 WHERE toStartOfMinute(mainTimestampTime) \u003e= now() - INTERVAL 4 DAY AND projectCode = 'AXDP' AND level = 'INFO' AND namespace = 'dk5-axdp01-axdp-dev1-1' AND appName = 'axdp-client-api' GROUP BY t ORDER BY t",
      "pass": true,
      "granules": 2,
      "read_rows": 10000,
      "read_bytes": 465284,
      "duration_ms": 8.350200000000001,
      "rows_returned": 1,
      "projection_used": true,
      "explain_text": "Expression (Project names)\n  Sorting (Sorting for ORDER BY)\n    Expression ((Before ORDER BY + Projection))\n      Aggregating\n        Expression (Before GROUP BY)\n          Expression ((WHERE + Change column names to column identifiers))\n            ReadFromMergeTree (logs_db.app_logs_v10)\n            Indexes:\n              MinMax\n                Keys:\n                  mainTimestampTime\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), and((projectCode in ['AXDP', 'AXDP']), (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))))\n                Parts: 1/1\n                Granules: 2/2\n              Partition\n                Keys:\n                  projectCode\n                  level\n                Condition: and((level in ['INFO', 'INFO']), (projectCode in ['AXDP', 'AXDP']))\n                Parts: 1/1\n                Granules: 2/2\n              PrimaryKey\n                Keys:\n                  mainTimestampTime\n                Condition: (toStartOfMinute(mainTimestampTime) in [1770155027, +Inf))\n                Parts: 1/1\n                Granules: 2/2\n                Search Algorithm: binary search\n              Skip\n                Name: resource_idx\n                Description: bloom_filter GRANULARITY 1\n                Parts: 1/1\n                Granules: 2/2\n              Ranges: 1\n"
    }
  ]
}